<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Intranet Soluciones Estev茅z S.U.R.L.</title>
  <link rel="stylesheet" href="style.css">
  <script type="module" src="firebase-config.js"></script>
  <script type="module" src="main.js"></script>
</head>
<body>

  <!-- LOGIN -->
  <div id="loginDiv">
    <h2>Intranet Soluciones Estev茅z S.U.R.L.</h2>
    <input type="email" id="email" placeholder="Correo electr贸nico">
    <input type="password" id="password" placeholder="Contrase帽a">
    <button onclick="login()">Entrar</button>
  </div>

  <!-- CONTENIDO PRINCIPAL -->
  <div id="contenidoDiv" style="display:none;">

    <!-- HEADER -->
    <header>
      <button id="menuBtn">&#9776;</button> <!-- Bot贸n de tres l铆neas -->
      <h3>Bienvenido, <span id="usuarioNombre"></span></h3>
    </header>

    <!-- BARRA LATERAL -->
    <aside id="sidebar" class="sidebar">
      <button class="closeBtn" onclick="cerrarSidebar()"></button>
      <nav>
        <button onclick="mostrarDepartamento('Direccion')">Direcci贸n</button>
        <button onclick="mostrarDepartamento('Economia')">Econom铆a</button>
        <button onclick="mostrarDepartamento('Produccion')">Producci贸n</button>
        <button onclick="mostrarDepartamento('Comercial')">Comercial</button>
        <button onclick="mostrarDepartamento('RecursosHumanos')">Recursos Humanos</button>
      </nav>
    </aside>

    <!-- BOTON FLOTANTE CHAT -->
    <button id="chatBtn" onclick="abrirChat()"><span id="chatBadge">0</span></button>

    <!-- SECCIONES POR DEPARTAMENTO -->
    <main>
      <!-- Direcci贸n -->
      <section id="Direccion" class="departamento" style="display:none;">
        <h4>Direcci贸n</h4>
        <div class="tarjeta">
          <h4>Documentos notariales</h4>
          <input type="file" id="fileDireccion" multiple>
          <button class="boton" onclick="subirArchivosDepartamento('Direccion')">Subir documentos</button>
          <div id="listaDireccion"></div>
        </div>
        <div class="tarjeta">
          <h4>Actas de juntas</h4>
          <div id="actasDireccion"></div>
        </div>
      </section>

      <!-- Econom铆a -->
      <section id="Economia" class="departamento" style="display:none;">
        <h4>Econom铆a</h4>
        <div class="tarjeta">
          <h4>Facturas pagadas</h4>
          <input type="file" id="fileFacturasPagadas" multiple>
          <button class="boton" onclick="subirArchivosDepartamento('Economia','FacturasPagadas')">Subir</button>
          <div id="listaFacturasPagadas"></div>
        </div>
        <div class="tarjeta">
          <h4>Registro de facturaci贸n</h4>
          <div id="registroFacturacion"></div>
        </div>
      </section>

      <!-- Producci贸n -->
      <section id="Produccion" class="departamento" style="display:none;">
        <h4>Producci贸n</h4>
        <div class="tarjeta">
          <h4>Presupuestos</h4>
          <input type="file" id="filePresupuestos" multiple>
          <button class="boton" onclick="subirArchivosDepartamento('Produccion','Presupuestos')">Subir</button>
          <div id="listaPresupuestos"></div>
        </div>
      </section>

      <!-- Comercial -->
      <section id="Comercial" class="departamento" style="display:none;">
        <h4>Comercial</h4>
        <div class="tarjeta">
          <h4>Clientes contratados</h4>
          <div id="clientesComercial"></div>
        </div>
      </section>

      <!-- Recursos Humanos -->
      <section id="RecursosHumanos" class="departamento" style="display:none;">
        <h4>Recursos Humanos</h4>
        <div class="tarjeta">
          <h4>Listado de trabajadores</h4>
          <div id="listadoTrabajadores"></div>
        </div>
      </section>
    </main>

  </div>

</body>
</html>
